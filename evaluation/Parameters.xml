<?xml version="1.0" encoding="UTF-8"?>
<Document>

	<Solvers>
		
		<Segmenter>
			<SolverInstance dataRoot = "/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/image_02/data/" dataFile="images.txt" segRoot="/media/sf_Autonomous_Driving/HistEqualized/Segmented/" saveVizImg="true" vizImgPrefix="overlayed_" segImgPrefix="segmented_" overlayedRoot="/media/sf_Autonomous_Driving/HistEqualized/Overlayed/"/>
		</Segmenter>

		<Refiner>

			<KPercentExtractor k="10"/>

			<LaneExtractor minDiff="10" peakNeighbors="5" minArea="10" maxArea="10000" minWidth="5" maxWidth="100" minLength="10" stretchingFragments="2" numHorizontalLines="3"/>

			<SolverInstance dataRoot = "/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/image_02/data/" dataFile="images.txt" segRoot="/media/sf_Autonomous_Driving/HistEqualized/Segmented/" refinedRoot="/media/sf_Autonomous_Driving/ExtractedLanes/" saveVizImg="true" vizImgPrefix="overlayed_" refinedImgPrefix="refined_"/>
		</Refiner>
		
		<VeloProjector>
			<ResultIntersector segRoot="/media/sf_Autonomous_Driving/HistEqualized/Segmented/" maxWidth="3" maxLength="20" refinedRoot ="/media/sf_Autonomous_Driving/TenPercent" refImgPrefix="refined_" segImgPrefix="segmented_" outputFile="intersected3DPts.txt" saveVizImg="false" vizImgPrefix="intersected_" printOnly2D="false"/>

			<SurfaceDataMaker segRoot="/media/sf_Autonomous_Driving/HistEqualized/Segmented/" segImgPrefix="segmented_" outputFilePrefix="lidarRoad2DPts_" saveVizImg="false" vizImgPrefix="lidarRoad_" minPoints="15" printProjectedPts="true"/>

			<SolverInstance dataRoot="/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/image_02/data/" dataFile="images.txt"  veloRoot="/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/velodyne_points/data" calibRoot="/media/sf_Autonomous_Driving/calib" outputRoot="/media/sf_Autonomous_Driving/Lidar/" retentionFrequency="5" camNum="2" minX="5"/>
		</VeloProjector>
		
		<TLinkage>
			<Samplers>
				<Uniform/>
				<DistBased sigma="5" maxDiff="20" measurementWay="AbsVerticalDegree"/>
			</Samplers>

			<Models>
				<Line2D/>
				<Plane/>
				<Circle2D/>
				<Surface/>
				<Road/>
				<Line3D minShift="2.7" maxShift="6" resolution="0.025" errorThreshold="1"/>
				<BSpline/>
			</Models>

			<PreferenceFinders inlierThreshold="1">
				<Exp divFactor="5"/>
				<Hard/>
				<Gauss divFactor="4"/>
				<Tukey/>
			</PreferenceFinders>

			<OutlierRejectors>
				<MaxSizeChange/>
				<KLargest k="2"/>
			</OutlierRejectors>

			<ModelRefiners>
			</ModelRefiners>

			<SolverInstance dataFile="/media/sf_Autonomous_Driving/Lidar/intersected3DPts.txt" shouldTranspose="true"  modelFile="/media/sf_Autonomous_Driving/Line3DModels.txt" saveClusters="true" clusterFile="/media/sf_Autonomous_Driving/Line3DClusters.txt" preferenceFinder="Exp" sampler="PreferNear" outlierRejector="None" samplesPerDataPt="5"/>

		</TLinkage>

		<DBScan eps="30" maxMinPts="30" minMinPts="5" minX="6" declineSlope="0" dataRoot="/media/sf_Autonomous_Driving/Lidar" dataFile="images.txt" inputFilePrefix="lidarRoad2DPts_" outputRoot="/media/sf_Autonomous_Driving/DBScan/" outputFilePrefix="dbs_" shouldTranspose="true"/>

		<LaneDetector imgRoot="/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/image_02/data/" imgFile="images.txt" veloRoot="/media/sf_Autonomous_Driving/data_road/2011_09_26_drive_0056_sync/velodyne_points/data"/>

	</Solvers>

	<Main solver="LaneExtractor" debug="true"/>

</Document>
